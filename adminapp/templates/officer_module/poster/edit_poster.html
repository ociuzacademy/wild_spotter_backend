{% extends 'officer_module/officer_dashboard.html' %}
{% load static %}

{% block title %}Edit Poster{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white shadow-xl rounded-xl p-8">

    <h2 class="text-3xl font-bold text-green-700 mb-6">Edit Awareness Poster</h2>

    {% include 'includes/_messages.html' %}

    <form method="POST" enctype="multipart/form-data" class="space-y-6">
        {% csrf_token %}

        <!-- Title -->
        <div>
            <label class="font-semibold text-gray-800">Poster Title</label>
            <input type="text" name="title" value="{{ poster.title }}"
                   class="w-full border border-gray-300 rounded-lg p-3 mt-1 focus:ring-2 focus:ring-green-600" required>
        </div>

        <!-- Category -->
        <div>
            <label class="font-semibold text-gray-800">Category</label>
            <select name="category"
                    class="w-full border border-gray-300 rounded-lg p-3 mt-1 focus:ring-2 focus:ring-green-600" required>
                <option value="awareness" {% if poster.category == "awareness" %}selected{% endif %}>Awareness</option>
                <option value="protection" {% if poster.category == "protection" %}selected{% endif %}>Wildlife Protection</option>
                <option value="education" {% if poster.category == "education" %}selected{% endif %}>Education</option>
            </select>
        </div>

        <!-- Current image -->
        <div>
            <label class="font-semibold text-gray-800">Current Image</label><br>

            {% if poster.image %}
                <img src="{{ poster.image.url }}"
                     class="w-48 h-auto rounded-lg shadow border my-3">
            {% else %}
                <p class="text-gray-500 italic mt-2">No image uploaded</p>
            {% endif %}
        </div>

        <!-- Upload new image -->
        <div>
            <label class="font-semibold text-gray-800">Upload New Image (Optional)</label>
            <input type="file" name="image"
                   class="w-full border border-gray-300 rounded-lg p-3 mt-1 focus:ring-2 focus:ring-green-600">
        </div>

        <!-- Buttons -->
        <div class="flex justify-between mt-6">
            <a href="{% url 'list_awareness_posters' %}"
               class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg">
                Cancel
            </a>

            <button type="submit"
                    class="bg-green-700 hover:bg-green-800 text-white px-6 py-2 rounded-lg shadow">
                Update Poster
            </button>
        </div>

    </form>

</div>
{% endblock %}
