{% extends 'officer_module/officer_dashboard.html' %}
{% load static %}

{% block title %}Officer Profile{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white shadow-lg rounded-xl p-8">

    <!-- Profile Image -->
    <div class="flex justify-center mb-6">
        {% if officer.profile_image %}
            <img src="{{ officer.profile_image.url }}" class="w-40 h-40 rounded-full border-4 border-green-600 object-cover">
        {% else %}
            <img src="{% static 'images/no_user.png' %}" class="w-40 h-40 rounded-full border-4 border-green-600">
        {% endif %}
    </div>

    <h2 class="text-3xl text-center font-bold text-green-700">{{ officer.name }}</h2>
    <p class="text-center text-gray-600 text-lg">
        Officer ID: {{ officer.officer_id }}
    </p>

    <hr class="my-6">

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

        <!-- Contact Details -->
        <div>
            <h3 class="text-xl font-semibold text-green-700 mb-2">Contact Details</h3>
            <p><strong>Phone:</strong> {{ officer.phone }}</p>
            <p><strong>Email:</strong> {{ officer.email }}</p>
        </div>

        <!-- Sanctuary -->
        <div>
            <h3 class="text-xl font-semibold text-green-700 mb-2">Assigned Sanctuary</h3>
            {% if officer.sanctuary %}
                <p>{{ officer.sanctuary.name }}</p>
            {% else %}
                <p class="text-gray-500 italic">Not assigned</p>
            {% endif %}
        </div>

    </div>

    <hr class="my-6">

    <!-- ID Card -->
    <div>
        <h3 class="text-xl font-semibold text-green-700 mb-3">Officer ID Card</h3>

        {% if officer.id_card_image %}
            <img src="{{ officer.id_card_image.url }}" class="rounded shadow-md w-full max-w-sm">
        {% else %}
            <p class="text-gray-500 italic">No ID card uploaded</p>
        {% endif %}
    </div>

    <hr class="my-6">

    <p class="text-gray-600 text-sm text-right">
        Joined on: {{ officer.created_at|date:"F d, Y" }}
    </p>

    <!-- âœ… Update Button at Bottom -->
    <div class="text-center mt-8">
        <a href="{% url 'update_officer_profile' %}"
           class="bg-green-700 hover:bg-green-800 text-white px-6 py-3 rounded-lg shadow">
           Update Profile
        </a>
    </div>

</div>
{% endblock %}
